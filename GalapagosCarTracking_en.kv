WindowManager:
    Loading:
    Welcome:
    Home:
    HomeStatsPage:
    StartTrip:
    Destination:
    Register1:
    Register2:
    Cargo:
    People:
    FinishTrip:
    TripStats:

<Welcome>:
    name: "Welcome"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.98, 0.98, 0.98, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language Toggle - Top Right
        Button:
            text: 'ES'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '16sp'
            size_hint: (None, None)
            size: ('60dp', '35dp')
            pos_hint: {'right': 0.95, 'top': 0.96}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: 0.15, 0.15, 0.15, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [8, 8, 8, 8]
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            padding: ['25dp', '60dp', '25dp', '30dp']
            spacing: '15dp'

            Label:
                text: 'Welcome'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '36sp'
                color: 0.1, 0.1, 0.1, 1
                size_hint_y: 0.12
                halign: 'center'
                valign: 'middle'

            Widget:
                size_hint_y: 0.03

            Label:
                id: Incorrect
                text: ''
                font_name: 'CaviarDreams.ttf'
                font_size: '13sp'
                color: 0.85, 0.2, 0.2, 1
                size_hint_y: 0.04
                halign: 'center'

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.32
                spacing: '12dp'
                padding: ['15dp', 0]

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: '80dp'
                    spacing: '8dp'
                    
                    Label:
                        text: 'Username'
                        font_name: 'CaviarDreams_Bold.ttf'
                        font_size: '16sp'
                        color: 0.3, 0.3, 0.3, 1
                        size_hint_y: None
                        height: '25dp'
                        halign: 'left'
                        text_size: self.size
                        padding: ['10dp', 0]
                    
                    TextInput:
                        id: Username
                        text: ''
                        font_name: 'CaviarDreams.ttf'
                        font_size: '18sp'
                        multiline: False
                        size_hint_y: None
                        height: '50dp'
                        background_normal: ''
                        background_color: 1, 1, 1, 1
                        foreground_color: 0.1, 0.1, 0.1, 1
                        padding: ['15dp', '12dp']
                        canvas.before:
                            Color:
                                rgba: 0.9, 0.9, 0.9, 1
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [8, 8, 8, 8]

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: '80dp'
                    spacing: '8dp'
                    
                    Label:
                        text: 'Password'
                        font_name: 'CaviarDreams_Bold.ttf'
                        font_size: '16sp'
                        color: 0.3, 0.3, 0.3, 1
                        size_hint_y: None
                        height: '25dp'
                        halign: 'left'
                        text_size: self.size
                        padding: ['10dp', 0]
                    
                    TextInput:
                        id: Password
                        text: ''
                        password: True
                        font_name: 'CaviarDreams.ttf'
                        font_size: '18sp'
                        multiline: False
                        size_hint_y: None
                        height: '50dp'
                        background_normal: ''
                        background_color: 1, 1, 1, 1
                        foreground_color: 0.1, 0.1, 0.1, 1
                        padding: ['15dp', '12dp']
                        canvas.before:
                            Color:
                                rgba: 0.9, 0.9, 0.9, 1
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [8, 8, 8, 8]

            Button:
                text: 'Login'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '19sp'
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.logIn(root.ids.Username.text, root.ids.Password.text)

            Widget:
                size_hint_y: 0.02

            Button:
                text: 'Register'
                font_name: 'CaviarDreams.ttf'
                font_size: '14sp'
                size_hint_y: 0.07
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 0.3, 0.3, 0.3, 1
                on_release:
                    app.root.current = "Register1"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.15

<Home>:
    name: "Home"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.98, 0.98, 0.98, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            text: 'ES'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '16sp'
            size_hint: (None, None)
            size: ('60dp', '35dp')
            pos_hint: {'right': 0.95, 'top': 0.96}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: 0.15, 0.15, 0.15, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [8, 8, 8, 8]
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            padding: ['25dp', '80dp', '25dp', '40dp']
            spacing: '20dp'

            Label:
                text: 'Home'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '32sp'
                color: 0.1, 0.1, 0.1, 1
                size_hint_y: 0.12
                halign: 'center'

            Widget:
                size_hint_y: 0.04

            Button:
                text: 'Start Trip'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '22sp'
                size_hint_y: 0.16
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [15, 15, 15, 15]
                on_release:
                    app.root.current = "StartTrip"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Get Stats'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '22sp'
                size_hint_y: 0.16
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [12, 12, 12, 12]
                on_release:
                    app.root.current = "HomeStatsPage"
                    root.manager.transition.direction = "down"

            Widget:
                size_hint_y: 0.06

            Button:
                text: 'Log Out'
                font_name: 'CaviarDreams.ttf'
                font_size: '17sp'
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 0.4, 0.4, 0.4, 1
                canvas.before:
                    Color:
                        rgba: 0.92, 0.92, 0.92, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [12, 12, 12, 12]
                on_release:
                    root.logOut()
                    app.root.current = "Welcome"
                    root.manager.transition.direction = "down"

            Widget:
                size_hint_y: 0.2

<StartTrip>:
    name: "StartTrip"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.98, 0.98, 0.98, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            text: 'ES'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '18sp'
            size_hint: (None, None)
            size: ('70dp', '40dp')
            pos_hint: {'right': 0.95, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release: app.toggle_language()

        Button:
            text: '←'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '28sp'
            size_hint: (None, None)
            size: ('60dp', '60dp')
            pos_hint: {'x': 0.05, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release:
                root.clearCar()
                app.root.current = "Home"
                root.manager.transition.direction = "down"

        BoxLayout:
            orientation: 'vertical'
            padding: ['25dp', '100dp', '25dp', '40dp']
            spacing: '20dp'

            Label:
                text: 'Which Car?'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '26sp'
                color: 0.1, 0.1, 0.1, 1
                size_hint_y: 0.12
                halign: 'center'

            Widget:
                size_hint_y: 0.04

            Button:
                id: car1
                text: ''
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '20sp'
                size_hint_y: 0.18
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [12, 12, 12, 12]
                on_release:
                    root.selectCar(1)
                    app.root.current = "Destination"
                    root.manager.transition.direction = "up"

            Button:
                id: car2
                text: ''
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '20sp'
                size_hint_y: 0.18
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                opacity: 0
                disabled: True
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.selectCar(2)
                    app.root.current = "Destination"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.38

<Destination>:
    name: "Destination"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.98, 0.98, 0.98, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            text: 'ES'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '18sp'
            size_hint: (None, None)
            size: ('70dp', '40dp')
            pos_hint: {'right': 0.95, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release: app.toggle_language()

        Button:
            text: '←'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '28sp'
            size_hint: (None, None)
            size: ('60dp', '60dp')
            pos_hint: {'x': 0.05, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release:
                root.clearCar()
                app.root.current = "StartTrip"
                root.manager.transition.direction = "down"

        BoxLayout:
            orientation: 'vertical'
            padding: ['20dp', '100dp', '20dp', '25dp']
            spacing: '15dp'

            Label:
                text: 'Where are you going?'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '26sp'
                color: 0.1, 0.1, 0.1, 1
                size_hint_y: 0.1
                halign: 'center'

            Widget:
                size_hint_y: 0.02

            Button:
                text: 'The Highlands'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '19sp'
                size_hint_y: 0.14
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [12, 12, 12, 12]
                on_release:
                    root.setDest('The Highlands')
                    app.root.current = "People"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Puerto Ayora'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '19sp'
                size_hint_y: 0.14
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.setDest('Puerto Ayora')
                    app.root.current = "People"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Airport'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '19sp'
                size_hint_y: 0.14
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.setDest("Airport")
                    app.root.current = "People"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Other'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '19sp'
                size_hint_y: 0.14
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [12, 12, 12, 12]
                on_release:
                    root.setDest('Other')
                    app.root.current = "People"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.3

<People>:
    name: "People"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.98, 0.98, 0.98, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            text: 'ES'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '18sp'
            size_hint: (None, None)
            size: ('70dp', '40dp')
            pos_hint: {'right': 0.95, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release: app.toggle_language()

        Button:
            text: '←'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '28sp'
            size_hint: (None, None)
            size: ('60dp', '60dp')
            pos_hint: {'x': 0.05, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release:
                root.clearDest()
                app.root.current = "Destination"
                root.manager.transition.direction = "down"

        BoxLayout:
            orientation: 'vertical'
            padding: ['20dp', '90dp', '20dp', '20dp']
            spacing: '8dp'

            Label:
                text: 'Who are you driving?'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '24sp'
                color: 0.1, 0.1, 0.1, 1
                size_hint_y: 0.08
                halign: 'center'

            Button:
                text: 'Students'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '17sp'
                size_hint_y: 0.15
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [12, 12, 12, 12]
                on_release:
                    root.setPass('Students')
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Single Tourist'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '17sp'
                size_hint_y: 0.15
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.setPass("Single Tourist")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Multiple Tourists'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '17sp'
                size_hint_y: 0.15
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.setPass("Multiple Tourists")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Locals'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '17sp'
                size_hint_y: 0.15
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.setPass("Locals")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Miscellaneous Passengers'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '17sp'
                size_hint_y: 0.15
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10, 10, 10, 10]
                on_release:
                    root.setPass("Miscellaneous Passengers")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.22

<Cargo>:
    name: "Cargo"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.98, 0.98, 0.98, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            text: 'ES'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '18sp'
            size_hint: (None, None)
            size: ('70dp', '40dp')
            pos_hint: {'right': 0.95, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release: app.toggle_language()

        Button:
            text: '←'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: '28sp'
            size_hint: (None, None)
            size: ('60dp', '60dp')
            pos_hint: {'x': 0.05, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.2, 0.2, 0.2, 1
            on_release:
                root.clearPeople()
                app.root.current = "People"
                root.manager.transition.direction = "down"

        BoxLayout:
            orientation: 'vertical'
            padding: ['20dp', '100dp', '20dp', '25dp']
            spacing: '15dp'

            Label:
                text: 'What cargo?'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '26sp'
                color: 0.1, 0.1, 0.1, 1
                size_hint_y: 0.1
                halign: 'center'

            Widget:
                size_hint_y: 0.02

            Button:
                text: 'Luggage'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '19sp'
                size_hint_y: 0.14
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05, 0.05, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [12, 12, 12, 12]
                on_release:
                    root.setCargo('Luggage')
                    app.root.current = "FinishTrip"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Work Equipment'
                font_name: 'CaviarDreams_Bold.ttf'
                font_size: '19sp'
                size_hint_y: 0.14
                halign: 'center'
                valign: 'middle'
                text_size: self.size
                background_normal: ''
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.05, 0.05
