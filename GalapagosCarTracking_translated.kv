WindowManager:
    Loading:
    Welcome:
    Home:
    HomeStatsPage:
    StartTrip:
    Destination:
    Register1:
    Register2:
    Cargo:
    People:
    FinishTrip:
    TripStats:

<Welcome>:
    name: "Welcome"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.7)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 20
            padding: [40, 60, 40, 40]
        
            Label:
                text: 'GalapaGo'
                font_size: 48
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.25
                halign: 'left'
                valign: 'bottom'
                text_size: self.size
                
            Label:
                id: Incorrect
                text:''
                font_size: 15
                color: 0.95, 0.26, 0.21, 1
                size_hint_y: 0.05
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.45
                spacing: 15
                
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 65
                    spacing: 5
                    
                    TextInput:
                        id: Username
                        hint_text: app.translator.get_text('username')
                        text:''
                        background_normal: ''
                        background_color: 0.96, 0.96, 0.96, 1
                        foreground_color: 0, 0, 0, 1
                        padding: [18, 15]
                        multiline: False
                        font_size: 17
                        cursor_color: 0, 0, 0, 1

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 65
                    spacing: 5
                    
                    TextInput:
                        id: Password
                        hint_text: app.translator.get_text('password')
                        text:''
                        background_normal: ''
                        background_color: 0.96, 0.96, 0.96, 1
                        foreground_color: 0, 0, 0, 1
                        padding: [18, 15]
                        multiline: False
                        password: True
                        font_size: 17
                        cursor_color: 0, 0, 0, 1

            Button:
                text: app.translator.get_text('login')
                font_size: 18
                bold: True
                size_hint_y: 0.12
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release:
                    root.logIn(root.ids.Username.text, root.ids.Password.text)
                    
            Widget:
                size_hint_y: 0.05
                    
            Button:
                text: app.translator.get_text('register_link')
                font_size: 16
                size_hint_y: 0.08
                background_color: 0, 0, 0, 0
                color: 0.5, 0.5, 0.5, 1
                on_release:
                    app.root.current = "Register1"
                    root.manager.transition.direction = "up"
                    
<Register1>
    name: "Register1"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        # Back button
        Button:
            text: '← Back'
            font_size: 13
            size_hint: (None, None)
            size: (70, 35)
            pos_hint: {'left': 0.03, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: 
                root.ids.UsernameReg.text = ''
                root.ids.PasswordReg.text = ''
                root.ids.PhoneReg.text = ''
                root.ids.NameReg.text = ''
                root.ids.Incorrect.text = ''
                app.root.get_screen('Register2').ids.Company1Reg.text = ''
                app.root.get_screen('Register2').ids.Car1NumReg.text = ''
                app.root.get_screen('Register2').ids.Company2Reg.text = ''
                app.root.get_screen('Register2').ids.Car2NumReg.text = ''
                app.root.current = "Welcome"
                root.manager.transition.direction = "down"

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.75)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 18
            padding: [40, 40, 40, 40]
        
            Label:
                text: 'Create Account'
                font_size: 32
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.15
                halign: 'left'
                valign: 'bottom'
                text_size: self.size
                
            Label:
                id: Incorrect
                text:''
                font_size: 13
                color: 0.95, 0.26, 0.21, 1
                size_hint_y: 0.04
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.6
                spacing: 15
                
                TextInput:
                    id: NameReg
                    hint_text: app.translator.get_text('name')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    font_size: 15
                    cursor_color: 0, 0, 0, 1

                TextInput:
                    id: UsernameReg
                    hint_text: app.translator.get_text('username')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    font_size: 15
                    cursor_color: 0, 0, 0, 1

                TextInput:
                    id: PasswordReg
                    hint_text: app.translator.get_text('password')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    password: True
                    font_size: 15
                    cursor_color: 0, 0, 0, 1

                TextInput:
                    id: PhoneReg
                    hint_text: app.translator.get_text('phone_number')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    font_size: 15
                    cursor_color: 0, 0, 0, 1

            Button:
                text: app.translator.get_text('next')
                font_size: 16
                bold: True
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release: 
                    root.checkRegPg1(root.ids.UsernameReg.text, root.ids.PhoneReg.text)
            
            Widget:
                size_hint_y: 0.1

<Register2>
    name: "Register2"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        # Back button
        Button:
            text: '← Back'
            font_size: 13
            size_hint: (None, None)
            size: (70, 35)
            pos_hint: {'left': 0.03, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: 
                app.root.current = "Register1"
                root.manager.transition.direction = "down"

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.8)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 18
            padding: [40, 40, 40, 40]
        
            Label:
                text: 'Car Details'
                font_size: 32
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.12
                halign: 'left'
                valign: 'bottom'
                text_size: self.size
                
            Label:
                id: Incorrect
                text:''
                font_size: 13
                color: 0.95, 0.26, 0.21, 1
                size_hint_y: 0.04
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.6
                spacing: 15
                
                TextInput:
                    id: Company1Reg
                    hint_text: app.translator.get_text('car_company')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    font_size: 15
                    cursor_color: 0, 0, 0, 1

                TextInput:
                    id: Car1NumReg
                    hint_text: app.translator.get_text('car_number')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    font_size: 15
                    cursor_color: 0, 0, 0, 1
                    
                BoxLayout:
                    size_hint_y: None
                    height: 40
                    spacing: 10
                    
                    CheckBox:
                        size_hint_x: None
                        width: 30
                        color: 0, 0, 0, 1
                        on_active: app.handle_checkbox_active(self.active)
                        
                    Label:
                        text: app.translator.get_text('check_another_company')
                        font_size: 14
                        color: 0.3, 0.3, 0.3, 1
                        halign: 'left'
                        valign: 'middle'
                        text_size: self.size

                TextInput:
                    id: Company2Reg
                    hint_text: app.translator.get_text('second_car_company')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    font_size: 15
                    cursor_color: 0, 0, 0, 1
                    opacity: 0
                    disabled: True

                Label:
                    id: CarCompanyTwo
                    size_hint_y: 0.001
                    opacity: 0

                TextInput:
                    id: Car2NumReg
                    hint_text: app.translator.get_text('second_car_number')
                    text:''
                    background_normal: ''
                    background_color: 0.96, 0.96, 0.96, 1
                    foreground_color: 0, 0, 0, 1
                    padding: [18, 15]
                    multiline: False
                    font_size: 15
                    cursor_color: 0, 0, 0, 1
                    opacity: 0
                    disabled: True

                Label:
                    id: CarNumberTwo
                    size_hint_y: 0.001
                    opacity: 0

            Button:
                text: app.translator.get_text('done')
                font_size: 16
                bold: True
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release: 
                    root.register(app.root.get_screen('Register1').ids.UsernameReg.text, app.root.get_screen('Register1').ids.PasswordReg.text, app.root.get_screen('Register1').ids.NameReg.text, app.root.get_screen('Register1').ids.PhoneReg.text, root.ids.Company1Reg.text, root.ids.Car1NumReg.text, root.ids.Company2Reg.text, root.ids.Car2NumReg.text)
                    app.root.get_screen('Welcome').ids.Incorrect.text = ''
            
            Widget:
                size_hint_y: 0.13

<Home>
    name: "Home"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.9, 0.8)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 25
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('home')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.15
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            Widget:
                size_hint_y: 0.1

            Button:
                text: app.translator.get_text('start_trip')
                font_size: 18
                bold: True
                size_hint_y: 0.15
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release:
                    app.root.current = "StartTrip"
                    root.manager.transition.direction = "up"

            Button:
                text: app.translator.get_text('get_stats')
                font_size: 16
                size_hint_y: 0.12
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    app.root.current = "HomeStatsPage"
                    root.manager.transition.direction = "down"

            Widget:
                size_hint_y: 0.2

            Button:
                text: app.translator.get_text('log_out')
                font_size: 14
                size_hint_y: 0.1
                background_color: 0, 0, 0, 0
                color: 0.6, 0, 0, 1
                on_release: 
                    app.root.current = "Welcome"
                    root.manager.transition.direction = "down"

            Widget:
                size_hint_y: 0.08

<HomeStatsPage>
    name: "HomeStatsPage"
    id: HomeStatsPage
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.8)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 20
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('statistics_today')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.12
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.6
                spacing: 8
                
                Label:
                    text: app.translator.get_text('number_of_trips')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: NumberOfTrips
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('miles_driven')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: MilesDriven
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('estimated_gas')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: EstimatedGas
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('total_time')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: TotalTime
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('time_between')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: TimeBetween
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size

            Widget:
                size_hint_y: 0.05

            Button:
                text: app.translator.get_text('back_to_home')
                font_size: 16
                bold: True
                size_hint_y: 0.12
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release: 
                    app.root.current = "Home"
                    root.manager.transition.direction = "down"
            
            Widget:
                size_hint_y: 0.05

<StartTrip>
    name: "StartTrip"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.75)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 20
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('which_car')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.15
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            Widget:
                size_hint_y: 0.1

            Button:
                text: 'Car 1, Company 1'
                id: car1
                font_size: 18
                size_hint_y: 0.15
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release:
                    root.selectCar(1) 
                    app.root.current = "Destination"
                    root.manager.transition.direction = "up"

            Button:
                text: 'Car 2, Company 2'
                id: car2
                font_size: 18
                size_hint_y: 0.15
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                opacity: 0
                disabled: True
                on_release: 
                    root.selectCar(2)
                    app.root.current = "Destination"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.2

            Button:
                text: app.translator.get_text('home')
                font_size: 14
                size_hint_y: 0.1
                background_color: 0, 0, 0, 0
                color: 0.6, 0, 0, 1
                on_release: 
                    root.clearCar()
                    app.root.current = "Home"
                    root.manager.transition.direction = "down"

            Widget:
                size_hint_y: 0.1
        
<Destination>
    name: "Destination"
    id: dest
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.8)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 18
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('where_going')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.12
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            Widget:
                size_hint_y: 0.05

            Button:
                text: app.translator.get_text('highlands')
                id: highlands
                font_size: 18
                bold: True
                size_hint_y: 0.12
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release: 
                    root.setDest('The Highlands')
                    app.root.current = "People"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('town')
                id: puertoAyora
                font_size: 18
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setDest('Puerto Ayora')
                    app.root.current = "People"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('airport')
                id: airport
                font_size: 18
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setDest("Airport")
                    app.root.current = "People"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('other')
                font_size: 18
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setDest('Other')
                    app.root.current = "People"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.15
        
            Button:
                text: app.translator.get_text('back')
                font_size: 14
                size_hint_y: 0.1
                background_color: 0, 0, 0, 0
                color: 0.6, 0, 0, 1
                on_release: 
                    root.clearCar()
                    app.root.current = "StartTrip"
                    root.manager.transition.direction = "down"
            
            Widget:
                size_hint_y: 0.05

<People>
    name: "People"
    id: People
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.85)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 15
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('who_driving')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.1
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            Widget:
                size_hint_y: 0.03

            Button:
                text: app.translator.get_text('students')
                id: student
                font_size: 18
                bold: True
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release: 
                    root.setPass('Students')
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('single_tourist')
                id: singletourist
                font_size: 18
                size_hint_y: 0.1
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setPass("Single Tourist")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('multiple_tourists')
                id: tourists
                font_size: 18
                size_hint_y: 0.1
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setPass("Multiple Tourists")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('locals')
                font_size: 18
                size_hint_y: 0.1
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setPass("Locals")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('misc_passengers')
                font_size: 18
                size_hint_y: 0.1
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setPass("Miscellaneous Passengers")
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.13
        
            Button:
                text: app.translator.get_text('back')
                font_size: 14
                size_hint_y: 0.08
                background_color: 0, 0, 0, 0
                color: 0.6, 0, 0, 1
                on_release: 
                    root.clearDest()
                    app.root.current = "Destination"
                    root.manager.transition.direction = "down"
            
            Widget:
                size_hint_y: 0.05
        
<Cargo>
    name: "Cargo"
    id: Cargo
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.8)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 18
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('what_cargo')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.12
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            Widget:
                size_hint_y: 0.05

            Button:
                text: app.translator.get_text('luggage')
                id: luggage
                font_size: 18
                bold: True
                size_hint_y: 0.12
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release:
                    root.setCargo('Luggage')
                    app.root.current = "FinishTrip"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('work_equipment')
                id: equipment
                font_size: 18
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release:
                    root.setCargo('Work Equipment')
                    app.root.current = "FinishTrip"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('food_goods')
                id: food
                font_size: 18
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release:
                    root.setCargo('Food and Goods')
                    app.root.current = "FinishTrip"
                    root.manager.transition.direction = "up"
            
            Button:
                text: app.translator.get_text('misc_cargo')
                font_size: 18
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.setCargo("Miscellaneous Cargo")
                    app.root.current = "FinishTrip"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.15

            Button:
                text: app.translator.get_text('back')
                font_size: 14
                size_hint_y: 0.08
                background_color: 0, 0, 0, 0
                color: 0.6, 0, 0, 1
                on_release: 
                    root.clearPeople()
                    app.root.current = "People"
                    root.manager.transition.direction = "down"
            
            Widget:
                size_hint_y: 0.05

<FinishTrip>
    name: "FinishTrip"
    id: FinishTrip
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.7)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 25
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('click_complete')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.15
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            Widget:
                size_hint_y: 0.15

            Button:
                text: app.translator.get_text('complete')
                font_size: 18
                bold: True
                size_hint_y: 0.18
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release: 
                    root.endTrip()
                    app.root.current = "TripStats"
                    root.manager.transition.direction = "up"

            Widget:
                size_hint_y: 0.25

            Button:
                text: app.translator.get_text('back')
                font_size: 14
                size_hint_y: 0.1
                background_color: 0, 0, 0, 0
                color: 0.6, 0, 0, 1
                on_release: 
                    root.clearCargo()
                    app.root.current = "Cargo"
                    root.manager.transition.direction = "down"

            Widget:
                size_hint_y: 0.08

<TripStats>
    name: "TripStats"
    id: TripStats
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Language button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_size: 13
            size_hint: (None, None)
            size: (50, 35)
            pos_hint: {'right': 0.97, 'top': 0.97}
            background_normal: ''
            background_color: 0, 0, 0, 0
            color: 0.4, 0.4, 0.4, 1
            on_release: app.toggle_language()

        BoxLayout:
            orientation: 'vertical'
            size_hint: (0.85, 0.85)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: 15
            padding: [40, 60, 40, 40]
        
            Label:
                text: app.translator.get_text('trip_statistics')
                font_size: 36
                bold: True
                color: 0, 0, 0, 1
                size_hint_y: 0.08
                halign: 'left'
                valign: 'bottom'
                text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.55
                spacing: 8
                
                Label:
                    text: app.translator.get_text('destination')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: Destination
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('passengers_cargo')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: PassengersCargo
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('distance_driven')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: tripDist
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('trip_duration')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: tripTime
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size
                
                Widget:
                    size_hint_y: 0.05
                
                Label:
                    text: app.translator.get_text('estimated_fuel')
                    font_size: 16
                    bold: True
                    color: 0, 0, 0, 1
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                Label:
                    text: ''
                    id: tripFuel
                    font_size: 15
                    color: 0.3, 0.3, 0.3, 1
                    halign: 'left'
                    valign: 'top'
                    text_size: self.size

            Widget:
                size_hint_y: 0.05

            Button:
                text: app.translator.get_text('start_next_trip')
                font_size: 16
                bold: True
                size_hint_y: 0.11
                background_normal: ''
                background_color: 0, 0, 0, 1
                color: 1, 1, 1, 1
                on_release: 
                    root.clearCurrent()
                    app.root.current = "StartTrip"
                    root.manager.transition.direction = "down"
            
            Button:
                text: app.translator.get_text('home')
                font_size: 16
                size_hint_y: 0.1
                background_normal: ''
                background_color: 0.96, 0.96, 0.96, 1
                color: 0, 0, 0, 1
                on_release: 
                    root.clearCurrent()
                    app.root.current = "Home"
                    root.manager.transition.direction = "down"
            
            Widget:
                size_hint_y: 0.05
    
<Loading>:
    name: "Loading"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 0,0,0
            Rectangle:
                pos: self.pos
                size: self.size
