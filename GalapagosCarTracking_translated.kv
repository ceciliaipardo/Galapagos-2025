WindowManager:
    Loading:
    Welcome:
    Home:
    HomeStatsPage:
    StartTrip:
    Destination:
    Register1:
    Register2:
    Cargo:
    People:
    FinishTrip:
    TripStats:

<Welcome>:
    name: "Welcome"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 0,0,1
            Rectangle:
                size: self.size[0]*0.4,self.size[1]*0.2
                pos: self.size[0]*0.29, self.size[1]*0.76
            Rectangle:
                size: self.size[0]*0.52,self.size[1]*0.42
                pos: self.size[0]*0.24, self.size[1]*0.24

            Color:
                rgb: 1,1,1
            Rectangle:
                size: self.size[0]*0.4,self.size[1]*0.2
                pos: self.size[0]*0.3, self.size[1]*0.75
            Rectangle:
                size: self.size[0]*0.5,self.size[1]*0.4
                pos: self.size[0]*0.25, self.size[1]*0.25

            Color:
                rgb: 136/255, 242/255, 146/255
            Rectangle:
                size: self.size[0], self.size[1]*0.15

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('welcome')
            font_name: 'Agbalumo-Regular.ttf'
            font_size: min(self.size[1] * 0.1, self.size[0] * 0.075)
            color: 0, 0, 0
            pos_hint: {'center_x': 0.5, 'center_y': 0.85}

        Label:
            id: Incorrect
            text:''
            font_size: min(self.size[1]*0.03, self.size[0]*0.02)
            color: 1,0,0
            pos_hint: {'center_x':0.5, 'center_y':0.625}

        Label:
            text: app.translator.get_text('username')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[1]*0.05, self.size[0]*0.0375)
            bold: True
            color: 0,0,0
            pos_hint: {'center_x':0.35, 'center_y':0.575}

        Label:
            text: app.translator.get_text('password')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[1]*0.05, self.size[0]*0.0375)
            color: 0,0,0
            pos_hint: {'center_x':0.35, 'center_y':0.475}

        Button:
            text: app.translator.get_text('register_link')
            font_size:min(self.size[0]*0.12, self.size[1]*0.25)
            font_name:'CaviarDreams_Bold.ttf'
            size_hint: (0.25, 0.05)
            font_color:0.25,0.25,0.25
            background_color: (19/255, 156/255, 149/255)
            pos_hint:{'center_x':0.5, 'center_y':0.275}
            markup: True
            on_release:
                app.root.current = "Register1"
                root.manager.transition.direction = "up"

        TextInput:
            id: Username
            text:''
            size_hint: (0.25, 0.05)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.58, 'center_y':0.575}
            multiline: False

        TextInput:
            id: Password 
            text:''
            size_hint: (0.25, 0.05)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.58, 'center_y':0.475}
            multiline: False

        Button:
            text: app.translator.get_text('login')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.2, self.size[1]*0.75)
            size_hint:(0.15, 0.1)
            pos_hint: {'center_x':0.5, 'center_y':0.375}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release:
                root.logIn(root.ids.Username.text, root.ids.Password.text)
                    
<Register1>
    name: "Register1"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            id: Incorrect
            text:''
            font_size: min(self.size[1]*0.03, self.size[0]*0.02)
            color: 1,0,0
            pos_hint: {'center_x':0.5, 'center_y':0.3}

        Label:
            text: app.translator.get_text('fill_out_following')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[0]*0.08, self.size[1]*0.0775)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}
        
        Label:
            text: app.translator.get_text('name')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.06, self.size[1]*0.05)
            color: 0,0,0
            pos_hint:{'center_x':0.35, 'center_y':0.75}
        TextInput:
            id: NameReg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.75}
            multiline: False

        Label:
            text: app.translator.get_text('username')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.06, self.size[1]*0.05)
            color: 0,0,0
            pos_hint:{'center_x':0.35, 'center_y':0.65}

        TextInput:
            id: UsernameReg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.65}
            multiline: False
        
        Label:
            text: app.translator.get_text('password')
            font_name:'CaviarDreams_Bold.ttf'
            color: (87/255, 163/255, 145/255)
            font_size: min(self.size[0]*0.06, self.size[1]*0.05)
            color: 0,0,0
            pos_hint:{'center_x':0.35, 'center_y':0.55}
        
        TextInput:
            id: PasswordReg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.55}
            multiline: False

        Label:
            text: app.translator.get_text('phone_number')
            font_name:'CaviarDreams_Bold.ttf'
            color: (87/255, 163/255, 145/255)
            font_size: min(self.size[0]*0.06, self.size[1]*0.05)
            color: 0,0,0
            pos_hint:{'center_x':0.35, 'center_y':0.45}

        TextInput:
            id: PhoneReg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.45}
            multiline: False
        
        Button:
            text: app.translator.get_text('next')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.2, self.size[1]*0.4)
            size_hint:(0.1, 0.1)
            pos_hint: {'right':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.checkRegPg1(root.ids.UsernameReg.text, root.ids.PhoneReg.text)
        Button:
            text: app.translator.get_text('back')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.2, self.size[1]*0.4)
            size_hint:(0.1, 0.1)
            pos_hint: {'left':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.ids.UsernameReg.text = ''
                root.ids.PasswordReg.text = ''
                root.ids.PhoneReg.text = ''
                root.ids.NameReg.text = ''
                root.ids.Incorrect.text = ''
                app.root.get_screen('Register2').ids.Company1Reg.text = ''
                app.root.get_screen('Register2').ids.Car1NumReg.text = ''
                app.root.get_screen('Register2').ids.Company2Reg.text = ''
                app.root.get_screen('Register2').ids.Car2NumReg.text = ''
                app.root.current = "Welcome"
                root.manager.transition.direction = "down"

<Register2>
    name: "Register2"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('complete_registration')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[0]*0.08, self.size[1]*0.0775)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}
        
        Label:
            text: app.translator.get_text('car_company')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.06, self.size[1]*0.05)
            color: 0,0,0
            pos_hint:{'center_x':0.35, 'center_y':0.75}
        TextInput:
            id: Company1Reg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.75}
            multiline: False
        Label:
            text: app.translator.get_text('car_number')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.06, self.size[1]*0.05)
            color: 0,0,0
            pos_hint:{'center_x':0.35, 'center_y':0.65}
        TextInput:
            id: Car1NumReg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.65}
            multiline: False
        Label:
            text: app.translator.get_text('check_another_company')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0] * 0.05, self.size[1] * 0.04)
            color: 0, 0, 0
            pos_hint: {'center_x': 0.45, 'center_y': 0.55}
        CheckBox:
            size_hint: None, None
            size: 40, 40
            pos_hint: {'center_x': 0.85, 'center_y': 0.55}
            color: 1, 0, 0, 1 
            on_active: app.handle_checkbox_active(self.active)
            
        Label:
            id: CarCompanyTwo
            text: app.translator.get_text('second_car_company')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0] * 0.06, self.size[1] * 0.05)
            color: 0, 0, 0
            pos_hint: {'center_x': 0.3, 'center_y': 0.45}
            opacity: 0
        
        TextInput:
            id: Company2Reg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.45}
            multiline: False
            opacity: 0

        Label:
            id: CarNumberTwo
            text: app.translator.get_text('second_car_number')
            font_name:'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0] * 0.06, self.size[1] * 0.05)
            color: 0, 0, 0
            pos_hint: {'center_x': 0.3, 'center_y': 0.35}
            opacity: 0
        TextInput:
            id: Car2NumReg
            text:''
            size_hint: (0.4, 0.07)
            background_color: (171/255, 237/255, 145/255)
            foreground_color: (0,0,0)
            pos_hint: {'center_x':0.7, 'center_y':0.35}
            multiline: False
            opacity: 0

        Label:
            id: Incorrect
            text:''
            font_size: min(self.size[1]*0.03, self.size[0]*0.02)
            color: 1,0,0
            pos_hint: {'center_x':0.5, 'center_y':0.2}

        Button:
            text: app.translator.get_text('done')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.2, self.size[1]*0.4)
            size_hint:(0.15, 0.15)
            pos_hint: {'right':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.register(app.root.get_screen('Register1').ids.UsernameReg.text, app.root.get_screen('Register1').ids.PasswordReg.text, app.root.get_screen('Register1').ids.NameReg.text, app.root.get_screen('Register1').ids.PhoneReg.text, root.ids.Company1Reg.text, root.ids.Car1NumReg.text, root.ids.Company2Reg.text, root.ids.Car2NumReg.text)
                app.root.get_screen('Welcome').ids.Incorrect.text = ''
        Button:
            text: app.translator.get_text('back')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.2, self.size[1]*0.4)
            size_hint:(0.15, 0.15)
            pos_hint: {'left':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                app.root.current = "Register1"
                root.manager.transition.direction = "down"

<Home>
    name: "Home"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('home')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[0]*0.2, self.size[1]*0.175)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}

        Button:
            text: app.translator.get_text('start_trip')
            font_name: 'Heavitas.ttf'
            font_size: min(self.size[0]*0.1, self.size[1]*0.3)
            size_hint:(0.4, 0.2)
            pos_hint: {'center_x':0.5, 'center_y':0.6}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release:
                app.root.current = "StartTrip"
                root.manager.transition.direction = "up"

        Button:
            text: app.translator.get_text('log_out')
            font_name: 'Heavitas.ttf'
            font_size: min(self.size[0]*0.1, self.size[1]*0.3)
            size_hint:(0.4, 0.2)
            pos_hint: {'center_x':0.5, 'center_y':0.3}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                app.root.current = "Welcome"
                root.manager.transition.direction = "down"
        Button:
            text: app.translator.get_text('get_stats')
            font_name: 'Heavitas.ttf'
            font_size: min(self.size[0]*0.1, self.size[1]*0.3)
            size_hint:(0.15, 0.2)
            pos_hint: {'top':1, 'left':1}
            background_normal: ''
            background_color: (204/255, 224/255, 149/255)
            on_release: 
                app.root.current = "HomeStatsPage"
                root.manager.transition.direction = "down"

<HomeStatsPage>
    name: "HomeStatsPage"
    id: HomeStatsPage
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('statistics_today')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[0]*0.075, self.size[1]*0.1)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}
        Label:
            text: ''
            font_size: 26
            color: 0, 0, 0, 1
            font_name:'CaviarDreams_Bold.ttf'
            size_hint: (0.7, 0.55)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            canvas.before:
                Color:
                    rgba: 144/255, 238/255, 144/255, 1
                Line:
                    width: 5
                    rectangle: self.pos[0], self.pos[1], self.size[0], self.size[1]
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

        Label:
            text: app.translator.get_text('number_of_trips')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.725}
        Label:
            text: ''
            id: NumberOfTrips
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.675}
        Label:
            text: app.translator.get_text('miles_driven')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.625}
        Label:
            text: ''
            id: MilesDriven
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.575}
        Label:
            text: app.translator.get_text('estimated_gas')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.525}
        Label:
            text: ''
            id: EstimatedGas
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.475}
        Label:
            text: app.translator.get_text('total_time')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.425}
        Label:
            text: ''
            id: TotalTime
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.375}
        Label:
            text: app.translator.get_text('time_between')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.325}
        Label:
            text: ''
            id: TimeBetween
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.275}
        
        Button:
            text: app.translator.get_text('back_to_home')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.3, self.size[1]*0.3)
            size_hint:(0.7, 0.15)
            pos_hint: {'center_x': 0.5, 'center_y': 0.1}
            background_normal: ''
            background_color: (204/255, 224/255, 149/255)
            on_release: 
                app.root.current = "Home"
                root.manager.transition.direction = "down"

<StartTrip>
    name: "StartTrip"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('which_car')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[1]*0.65, self.size[0]*0.065)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}

        Button:
            text: 'Car 1, Company 1'
            id: car1
            font_name: 'Heavitas.ttf'
            font_size: min(self.size[1]*0.15, self.size[0]*0.075)
            size_hint: (0.4, 0.2)
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
            background_normal: ''
            background_color: (101/255, 86/255, 153/255)
            on_release:
                root.selectCar(1) 
                app.root.current = "Destination"
                root.manager.transition.direction = "up"
        Button:
            text: 'Car 2, Company 2'
            id: car2
            font_name: 'Heavitas.ttf'
            font_size: min(self.size[1]*0.15, self.size[0]*0.075)
            size_hint: (0.4, 0.2)
            pos_hint: {'center_x': 0.5, 'center_y': 0.35}
            background_normal: ''
            background_color: (200/255, 163/255, 156/255)
            opacity: 0
            disabled: True
            on_release: 
                root.selectCar(2)
                app.root.current = "Destination"
                root.manager.transition.direction = "up"

        Button:
            text: app.translator.get_text('home')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.15, 0.15)
            pos_hint: {'right':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.clearCar()
                app.root.current = "Home"
                root.manager.transition.direction = "down"
        
<Destination>
    name: "Destination"
    id: dest
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('where_going')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[1]*0.65, self.size[0]*0.065)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}

        Button:
            text: ''
            id: highlands
            font_name:'CaviarDreams_Bold.ttf'
            color: 0, 0, 0, 1
            bold: True
            font_size:min(self.size[0]*0.2, self.size[1]*0.2)
            size_hint:(0.25, 0.25)
            background_normal: 'highlands.png'
            pos_hint: {'center_x': 0.35, 'center_y': 0.55}
            on_release: 
                root.setDest('The Highlands')
                app.root.current = "People"
                root.manager.transition.direction = "up"
            
        Button:
            text: ''
            id: puertoAyora
            font_name:'CaviarDreams_Bold.ttf'
            color: 0, 0, 0, 1
            font_size:min(self.size[0]*0.2, self.size[1]*0.2)
            size_hint:(0.25, 0.25)
            bold: True
            background_normal: 'town.png'
            pos_hint: {'center_x': 0.65, 'center_y': 0.55}
            on_release: 
                root.setDest('Puerto Ayora')
                app.root.current = "People"
                root.manager.transition.direction = "up"
        Button:
            text: ''
            id: airport
            font_name:'CaviarDreams_Bold.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            color: 0, 0, 0, 1
            size_hint:(0.25, 0.25)
            bold: True
            background_normal: 'airport.png'
            pos_hint: {'center_x': 0.35, 'center_y': 0.25}
            on_release: 
                root.setDest("Airport")
                app.root.current = "People"
                root.manager.transition.direction = "up"
        Button:
            font_name:'Raleway-ExtraBold.ttf'
            font_style: 'Raleway'
            font_size: 50
            background_normal: 'other.png'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.25, 0.25)
            pos_hint: {'center_x': 0.65, 'center_y': 0.25}
            on_release: 
                root.setDest('Other')
                app.root.current = "People"
                root.manager.transition.direction = "up"
        
        Button:
            text: app.translator.get_text('back')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.125, 0.125)
            pos_hint: {'left':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.clearCar()
                app.root.current = "StartTrip"
                root.manager.transition.direction = "down"

<People>
    name: "People"
    id: People
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('who_driving')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[1]*0.65, self.size[0]*0.065)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}
        Button:
            text:''
            id: student
            font_name:'CaviarDreams_Bold.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.2, 0.3)
            pos_hint: {'center_x': 0.25, 'center_y': 0.6}
            background_normal:'student.png'
            on_release: 
                root.setPass('Students')
                app.root.current = "Cargo"
                root.manager.transition.direction = "up"
        Button:
            text:''
            id: singletourist
            font_name:'CaviarDreams_Bold.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.2, 0.3)
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
            background_normal:'tourist.png'
            on_release: 
                root.setPass("Single Tourist")
                app.root.current = "Cargo"
                root.manager.transition.direction = "up"
        Button:
            text:''
            id: tourists
            font_name:'CaviarDreams_Bold.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.2, 0.3)
            pos_hint: {'center_x': 0.75, 'center_y': 0.6}
            background_normal:'2tourists.png'
            on_release: 
                root.setPass("Multiple Tourists")
                app.root.current = "Cargo"
                root.manager.transition.direction = "up"
        Button:
            text:''
            font_name:'CaviarDreams_Bold.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.2, 0.3)
            pos_hint: {'center_x': 0.35, 'center_y': 0.25}
            background_normal: 'local.png'
            on_release: 
                root.setPass("Locals")
                app.root.current = "Cargo"
                root.manager.transition.direction = "up"
        Button:
            text:''
            font_name:'BOOKOSB.TTF'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.2, 0.3)
            pos_hint: {'center_x': 0.65, 'center_y': 0.25}
            background_normal: 'otherpeople.png'
            on_release: 
                root.setPass("Miscellaneous Passengers")
                app.root.current = "Cargo"
                root.manager.transition.direction = "up"
        
        Button:
            text: app.translator.get_text('back')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.15, 0.15)
            pos_hint: {'left':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.clearDest()
                app.root.current = "Destination"
                root.manager.transition.direction = "down"
        
<Cargo>
    name: "Cargo"
    id: Cargo
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('what_cargo')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[1]*0.3, self.size[0]*0.045)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}
        Button:
            text:''
            id: luggage
            font_name:'CaviarDreams_Bold.ttf'
            color: 0, 0, 0, 1
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.25, 0.3)
            pos_hint: {'center_x': 0.35, 'center_y':0.6}
            background_normal: 'luggage.png'
            on_release:
                root.setCargo('Luggage')
                app.root.current = "FinishTrip"
                root.manager.transition.direction = "up"
        Button:
            text:''
            id: equipment
            font_name:'CaviarDreams_Bold.ttf'
            color: 0, 0, 0, 1
            font_size:min(self.size[0]*0.2, self.size[1]*0.2)
            size_hint:(0.25, 0.3)
            pos_hint: {'center_x': 0.65, 'center_y':0.6}
            background_normal: 'farm.png'
            on_release:
                root.setCargo('Work Equipment')
                app.root.current = "FinishTrip"
                root.manager.transition.direction = "up"
        Button:
            text:''
            id: food
            font_name:'CaviarDreams_Bold.ttf'
            font_size:min(self.size[0]*0.2, self.size[1]*0.2)
            size_hint:(0.25, 0.3)
            pos_hint: {'center_x': 0.35, 'center_y':0.275}
            background_normal: 'food.png'
            on_release:
                root.setCargo('Food and Goods')
                app.root.current = "FinishTrip"
                root.manager.transition.direction = "up"
        Button:
            text: app.translator.get_text('other')
            font_name:'BOOKOSB.TTF'
            font_size:min(self.size[0]*0.2, self.size[1]*0.2)
            size_hint:(0.25, 0.3)
            pos_hint: {'center_x': 0.65, 'center_y':0.275}
            on_release: 
                root.setCargo("Miscellaneous Cargo")
                app.root.current = "FinishTrip"
                root.manager.transition.direction = "up"

        Button:
            text: app.translator.get_text('back')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.15, 0.15)
            pos_hint: {'left':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.clearPeople()
                app.root.current = "People"
                root.manager.transition.direction = "down"

<FinishTrip>
    name: "FinishTrip"
    id: FinishTrip
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos[0], self.pos[1]+self.size[1]*0.8
                size: self.size[0], self.size[1]*0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('click_complete')
            font_name:'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[1]*0.35, self.size[0]*0.035)
            size_hint:(1, 1)
            color: 0,0,0
            pos_hint:{'center_x':0.5, 'center_y':0.9}
        Button:
            text: app.translator.get_text('complete')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.099)
            size_hint:(0.35, 0.35)
            pos_hint: {'center_x': 0.5, 'center_y':0.5}
            background_normal: ''
            background_color: (167/255, 235/255, 176/255)
            on_release: 
                root.endTrip()
                app.root.current = "TripStats"
                root.manager.transition.direction = "up"
        Button:
            text: app.translator.get_text('back')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.15, 0.15)
            pos_hint: {'left':1, 'bottom':1}
            background_normal: ''
            background_color: (19/255, 156/255, 149/255)
            on_release: 
                root.clearCargo()
                app.root.current = "Cargo"
                root.manager.transition.direction = "down"

<TripStats>
    name: "TripStats"
    id: TripStats
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 107/255, 232/255, 247/255
            Rectangle:
                pos: self.pos
                size: self.size

            Color:
                rgb: 1, 1, 1
            Rectangle:
                pos: self.pos[0], self.pos[1] + self.size[1] * 0.8
                size: self.size[0], self.size[1] * 0.2

        # Language Toggle Button
        Button:
            text: 'ES' if app.translator.get_current_language() == 'en' else 'EN'
            font_name: 'CaviarDreams_Bold.ttf'
            font_size: min(self.size[0]*0.15, self.size[1]*0.3)
            size_hint: (0.08, 0.08)
            pos_hint: {'right': 0.98, 'top': 0.98}
            background_normal: ''
            background_color: (1, 0.8, 0, 1)
            on_release: app.toggle_language()

        Label:
            text: app.translator.get_text('trip_statistics')
            font_name: 'Cocogoose Pro-trial.ttf'
            font_size: min(self.size[1]*0.65, self.size[0]*0.035)
            size_hint: (1, 1)
            color: 0, 0, 0
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}

        Label:
            text: ''
            font_size: 26
            color: 0, 0, 0, 1
            font_name:'CaviarDreams_Bold.ttf'
            size_hint: (0.7, 0.55)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            canvas.before:
                Color:
                    rgba: 144/255, 238/255, 144/255, 1
                Line:
                    width: 5
                    rectangle: self.pos[0], self.pos[1], self.size[0], self.size[1]
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

        Label:
            text: app.translator.get_text('destination')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.725}
        Label:
            text: ''
            id: Destination
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.675}
        Label:
            text: app.translator.get_text('passengers_cargo')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.625}
        Label:
            text: ''
            id: PassengersCargo
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.575}
        Label:
            text: app.translator.get_text('distance_driven')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.525}
        Label:
            text: ''
            id: tripDist
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.475}
        Label:
            text: app.translator.get_text('trip_duration')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.425}
        Label:
            text: ''
            id: tripTime
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.375}
        Label:
            text: app.translator.get_text('estimated_fuel')
            font_size: 28
            color: 5/255, 51/255, 110/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.325}
        Label:
            text: ''
            id: tripFuel
            font_size: 28
            color: 82/255, 83/255, 84/255
            font_name: 'CaviarDreams_Bold.ttf'
            pos_hint: {'center_x': 0.5, 'center_y': 0.275}
        
        Button:
            text: app.translator.get_text('start_next_trip')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.3, self.size[1]*0.3)
            size_hint:(0.65, 0.125)
            pos_hint: {'center_x': 0.5, 'center_y': 0.125}
            background_normal: ''
            background_color: (204/255, 224/255, 149/255)
            on_release: 
                root.clearCurrent()
                app.root.current = "StartTrip"
                root.manager.transition.direction = "down"
        Button:
            text: app.translator.get_text('home')
            font_name: 'Heavitas.ttf'
            font_size:min(self.size[0]*0.25, self.size[1]*0.4)
            size_hint:(0.125, 0.125)
            pos_hint: {'left':1, 'bottom':1}
            background_normal: ''
            background_color: (5/255, 80/255, 171/255)
            on_release: 
                root.clearCurrent()
                app.root.current = "Home"
                root.manager.transition.direction = "down"
    
<Loading>:
    name: "Loading"
    FloatLayout:
        size: root.width, root.height
        canvas:
            Color:
                rgb: 0,0,0
            Rectangle:
                pos: self.pos
                size: self.size
